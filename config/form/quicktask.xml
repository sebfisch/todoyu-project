<?xml version="1.0" encoding="UTF-8"?>
<form>
	<attributes>
		<attribute name="name">quicktask</attribute>
		<attribute name="action">?ext=project&amp;controller=quicktask</attribute>
	</attributes>

	<hiddenFields>
		<field name="action" noWrap="true" value="save" />
	</hiddenFields>

	<fieldsets>
		<fieldset name="main">
			<legend>project.form.legend.quicktask.basics</legend>
			<elements>

				<field type="text" name="title">
					<label>core.global.title</label>
					<required />
				</field>

				<field type="text" name="id_project">
					<dummy>this field will be replaced</dummy>
				</field>

				<field type="RTE" name="description">
					<label>core.global.description</label>
					<tinymce>
						<theme>simple</theme>
						<width>100%</width>
					</tinymce>
				</field>

				<field type="select" name="id_activity">
					<label>project.task.attr.activity</label>
					<source type="function">
						<function>TodoyuProjectTaskViewHelper::getTaskActivityOptions</function>
						<lazyInit />
					</source>
					<noPleaseSelect />
					<validate>
						<isNotZero msg="LLL:project.task.attr.id_activity.error" />
					</validate>
					<restrict>
						<allow ext="project" right="task:editActivity" />
					</restrict>
					<required />
				</field>

				<field type="checkbox" name="task_done">
					<label>project.task.taskDone</label>
				</field>

			</elements>
		</fieldset>

		<fieldset name="buttons">
			<legend>Actions</legend>
			<class>buttons</class>
			<elements>

				<field type="cancelButton" name="cancel">
					<onclick>Todoyu.Ext.project.QuickTask.closePopup()</onclick>
				</field>

				<field type="saveButton" name="save">
					<onclick>Todoyu.Ext.project.QuickTask.save(this.form)</onclick>
				</field>

			</elements>
		</fieldset>

	</fieldsets>
</form>