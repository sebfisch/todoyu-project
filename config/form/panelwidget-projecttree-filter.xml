<?xml version="1.0" encoding="UTF-8"?>
<form>
	<attributes>
		<attribute name="action"></attribute>
		<attribute name="name">panelwidget-projecttree-filter</attribute>
	</attributes>
	<fieldsets>
		<fieldset name="filters">
			<legend>Panel filters</legend>
			<elements>

				<field type="textinput" name="title">
					<label>core.title</label>
				</field>

				<field type="select" name="status">
					<label>core.status</label>
					<multiple>1</multiple>
					<source type="function">
						<function>TodoyuPanelWidgetProjectTree::getStatusOptions</function>
					</source>
				</field>

				<field type="textinput" name="fulltext">
					<label>panelwidget-projecttree.filter.fulltext</label>
				</field>

				<field type="textinputAC" name="projectleader">
					<label>panelwidget-projecttree.filter.projectleader</label>
					<config>
						<acListener>
							<ext>project</ext>
							<controller>panelwidgetprojecttree</controller>
							<action>autocompleteuser</action>
						</acListener>
						<acLabelFunc>TodoyuUserManager::getLabel</acLabelFunc>
					</config>
				</field>

				<field type="textinputAC" name="customer">
					<label>panelwidget-projecttree.filter.customer</label>
					<config>
						<acListener>
							<ext>project</ext>
							<controller>project</controller>
							<action>autocompleteCustomer</action>
						</acListener>
						<acLabelFunc>TodoyuCustomerManager::getLabel</acLabelFunc>
					</config>
				</field>

			</elements>
		</fieldset>

		<fieldset name="display">

		</fieldset>

		<fieldset name="add">
			<legend>Add new fields</legend>
			<elements>

				<field type="select" name="add">
					<label>panelwidget-projecttree.filter.addFilter</label>
					<source type="function">
						<function>TodoyuPanelWidgetProjectTree::getAvailableFields</function>
						<lazyInit />
					</source>
				</field>

			</elements>
		</fieldset>

	</fieldsets>
</form>